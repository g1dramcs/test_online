<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TEST Online</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='/style/question_page.css') }}" />
</head>
<body>

  <header>
    <h1>TEST Online</h1>
    <div class="profile">
        <span>профиль</span>
        <img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" alt="profile" width="32">
      </div>
  </header>

  <main class="container">
    <div class="test-box">
      <h2>Тестирование по дисциплине<br><span class="discipline">"Выбранная дисциплина"</span></h2>
      <div id="questions-container"></div>
      <button id="submit-btn">СДАТЬ ТЕСТ</button>
    </div>
  </main>
  
  </main>

  <script>
    // Имитация данных с сервера
    const data = {
    "questions": [
        {
            "id": 4,
            "text": "Ответ 1",
            "answers": [
                {
                    "id": 1,
                    "text": "Ответ 1"
                },
                {
                    "id": 2,
                    "text": "ответ 2"
                },
                {
                    "id": 3,
                    "text": "ответ 3"
                },
                {
                    "id": 4,
                    "text": "ответ 4"
                }
            ]
        },
        {
            "id": 5,
            "text": "Ответ 2",
            "answers": [
                {
                    "id": 5,
                    "text": "ответ 5.1"
                },
                {
                    "id": 6,
                    "text": "ответ 5.2"
                },
                {
                    "id": 7,
                    "text": "ответ 5.3"
                },
                {
                    "id": 8,
                    "text": "ответ 5.4"
                }
            ]
        },
        {
            "id": 6,
            "text": "Ответ 3",
            "answers": [
                {
                    "id": 9,
                    "text": "ответ 6.4"
                },
                {
                    "id": 10,
                    "text": "ответ 6.3"
                },
                {
                    "id": 11,
                    "text": "ответ 6.2"
                },
                {
                    "id": 12,
                    "text": "ответ 6.1"
                }
            ]
        },
        {
            "id": 7,
            "text": "не связан с тестом",
            "answers": null
        }
    ]
};
    
    const questions = data.questions.filter(q => Array.isArray(q.answers));
    
    const container = document.getElementById('questions-container');
    
    questions.forEach((question, qIndex) => {
      const questionDiv = document.createElement('div');
      questionDiv.classList.add('question-block');
      questionDiv.innerHTML = `
        <div class="question-text">${qIndex + 1}. ${question.text}</div>
        <form class="answers" data-question-id="${question.id}">
          ${question.answers.map(answer => `
            <label>
              <input type="radio" name="question_${question.id}" value="${answer.id}">
              ${answer.text}
            </label>
          `).join('')}
        </form>
      `;
      container.appendChild(questionDiv);
    });
    
    
    document.getElementById('submit-btn').addEventListener('click', () => {
      alert('Тест завершён!');
    });

    </script>
    
</body>
</html>
